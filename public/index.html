<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Team Page</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div id="app">
    <h1 id="pageTitle">Team Page</h1>
    <div id="image"></div>
    <div id="content"></div>
    <div id="announcements"></div>
    <div id="events"></div>
    <div id="sidebar">
      <div id="minutes"></div>
      <div id="ops"></div>
      <div id="group"></div>
      <div id="drive"></div>
      <button id="loginBtn">Admin login</button>
      <button id="logoutBtn" hidden>Sign out</button>
      <div id="userInfo"></div>
    </div>
  </div>

  <script type="module" src="js/config.js"></script>
  <script type="module">
  import { callBackend } from './js/api.js';
  import { renderTeamPage } from './js/teamRender.js';

  document.addEventListener('DOMContentLoaded', function () {
    const params = new URLSearchParams(window.location.search);
    const team = params.get('team');
    const page = 'team';

    callBackend({ page: page, team: team })
      .then(data => {
        if (data.error) {
          console.error('Backend error:', data.error);
          return;
        }
        renderTeamPage(data);
      })
      .catch(err => {
        console.error('Fetch error:', err);
      });
  });
</script>

</body>
</html>
